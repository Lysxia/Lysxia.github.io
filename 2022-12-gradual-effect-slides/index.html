<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Gradual algebraic effects</title>

		<link rel="stylesheet" href="reveal.js/dist/reset.css">
		<link rel="stylesheet" href="reveal.js/dist/reveal.css">
		<link rel="stylesheet" href="reveal.js/dist/theme/serif.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="reveal.js/plugin/highlight/default.css">
		<link rel="stylesheet" href="Agda.css">
		<link rel="stylesheet" href="style.css">
	</head>
	<body>
    <div hidden>
      \(
        \def\N{\mathbb{N}}
        \def\B{\mathbb{B}}
        \def\nat{\texttt{nat}}
        \def\bool{\texttt{bool}}
        \definecolor{deemph}{RGB}{75,75,75}
        \definecolor{bbb}{RGB}{0,100,255}
        \def\typecolor#1{{\color{Blue}#1}}
        \def\termcolor#1{{\color{deemph}#1}}
        \def\castcolor#1{{\color{Orange}#1}}
        \def\importanttypecolor#1{{\color{bbb}#1}}
        \def\precision#1#2{{\color{Blue}#1 \color{Green} \le \color{Blue} #2}}

        \def\lam#1#2{\lambda#1. #2}
        \def\app#1#2{#1\,#2}
        \def\castof#1{\texttt{cast}^{#1}}
        \def\hastype#1#2#3{\typecolor{#1} \vdash \termcolor{#2} : \typecolor{#3}}
      \)
    </div>
		<div class="reveal">
			<div class="slides">
				<section>
          <h2>Gradual algebraic effects</h2>
          <h3>formalized in Agda</h3>
          <div style="text-align:right;">
            <div><b>Li-yao Xia</b></div>
            <div>Philip Wadler</div>
          </div>
        </section>

        <section>
				  <section>Algebraic effects</section>
          <section>handler = fold</section>
        </section>

        <section>
				  <section data-background-gradient="conic-gradient(at 50% 35%, #F0F1EB, #61584D)">
            <div class="flexbox">
              <div style="color: white;">Dynamic</div>
              <div class="flex-1"></div>
              <div>Static</div>
            </div>
            <div style="height: 150px;"></div>
            <h3 class="height-half">Gradual types</h3>
            <div style="height: 150px;"></div>
          </section>
          <section>
            <div class="flexbox">
              <div class="flex-1">
<div>Library</div>
<div class="gradual-box"><div class="gradual-label right">Dynamic</div>
<pre><code data-trim data-noescape class="language-ocaml">
write_to_db(row : Any) : Any
 
</code></pre>
</div>
<div class="fragment gradual-box" data-fragment-index="1"><div class="gradual-label right">Static</div>
<pre class="border"><code data-trim data-noescape class="language-ocaml">
write_to_db(row : N × N) : ()
 
</code></pre>
</div>
<div class="fragment gradual-box" data-fragment-index="2"><div class="gradual-label right">Dynamic</div>
<pre><code data-trim data-noescape class="language-ocaml">
write_to_db(row : Any) : Any
 
</code></pre>
</div>
<div class="fragment gradual-box" data-fragment-index="0"><div class="gradual-label right">Static</div>
<pre class="border"><code data-trim data-noescape class="language-ocaml">
write_to_db(row : N × N) : ()
 
</code></pre>
</div>
              </div>
              <div class="flex-1">
<div>Application</div>
<div class="gradual-box"><div class="gradual-label left">Dynamic</div>
<pre><code data-trim data-noescape class="language-ocaml">
get_data() : Any
write_to_db(get_data()) : Any
</code></pre>
</div>
<div class="fragment gradual-box" data-fragment-index="1"><div class="gradual-label left">Dynamic</div>
<pre><code data-trim data-noescape class="language-ocaml">
get_data() : Any
write_to_db(get_data()) : Any
</code></pre>
</div>
<div class="fragment gradual-box" data-fragment-index="2"><div class="gradual-label left">Static</div>
<pre class="border"><code data-trim data-noescape class="language-ocaml">
get_data() : N × N
write_to_db(get_data()) : ()
</code></pre>
</div>
<div class="fragment gradual-box" data-fragment-index="0"><div class="gradual-label left">Static</div>
<pre class="border"><code data-trim data-noescape class="language-ocaml">
get_data() : N × N
write_to_db(get_data()) : ()
</code></pre>
</div>
              </div>
            </div>
            <div>Well-typed throughout gradual migration</div>
          </section>
          <section>
            <blockquote class="medium-small">
            But languages with dynamic typing also have a flexibility which is hard to emulate with a static type system.
            <br>— <a href="https://kar.kent.ac.uk/88959/1/history.pdf_nocoversheet">Turner (2012)</a>
            </blockquote>
            <div>When static types go ¯\_(ツ)_/¯</div>
            <div class="fragment">
            <pre><code data-trim data-noescape>
tauto : nat -> ★ -> bool
tauto 0 b = b
tauto n f = tauto (n-1) (f false) && tauto (n-1) (f true)
            </code></pre>
            </div>

            <div class="fragment">
            <pre><code data-trim data-noescape>
tauto n f = true   iff   ∀ x1 ... xn, f x1 ... xn = true 
            </code></pre>
            </div>
            <div class="fragment">
            <pre><code data-trim data-noescape>
tauto 1 :                 (bool -> bool) -> bool
tauto 2 :         (bool -> bool -> bool) -> bool
tauto 3 : (bool -> bool -> bool -> bool) -> bool
            </code></pre>
            </div>
          </section>
          <section>
            <div>Anatomy of a gradually typed language</div>
            <ul style="list-style: none;">
              <li class="fragment"><b>Dynamic type</b> "\(\star\)" (aka. <code>Any</code>)</li>
              <li class="fragment margin-top-10"><b>Surface language:</b> \(f : \nat \to \bool, x : \star \vdash \app{f}{x} : \bool\)</li>
              <li class="fragment">⮩ Some flexibility, but not too loose either</li>
              <li class="fragment margin-top-10">Core language = <b>cast calculus:</b> \(f : \nat \to \bool, x : \star \vdash \app{f}{(\castof{-p}\,x)} : \bool\)</li>
              <li class="fragment">⮩ Operational semantics</li>
              <li class="fragment">⮩ <b>Gradual guarantee:</b> how code should behave when type annotations
                are added incrementally.</li>
            </ul>
          </section>

          <section>
            <div class="left">Gradual type system</div>
            \[\begin{prooftree}
                \AxiomC{\(\precision{A}{B}\)}
                \AxiomC{\(\hastype{\Gamma}{M}{B}\)}
              \BinaryInfC{\(\hastype{\Gamma}{M}{A}\)}
            \end{prooftree}\]
            <div class="left">Precision \(\precision{A}{B}\)</div>
            \[\begin{prooftree}
              \AxiomC{\(\precision{A}{\star}\)}
            \end{prooftree}
            \quad
            \begin{prooftree}
              \AxiomC{\(\precision{A}{A}\)}
            \end{prooftree}
            \quad
            \begin{prooftree}
                \AxiomC{\(\precision{A}{A'}\)}
                \AxiomC{\(\precision{B}{B'}\)}
              \BinaryInfC{\(\precision{A \to B}{A' \to B'}\)}
            \end{prooftree}
            \]
            Covariant in the domain!
            <br> Precision aka. "Naive Subtyping"
          </section>
          <section>
            <div>Precision relation <code>A ≤ B</code></div>
          <code class="big">
            
<pre class="Agda">    <a id="346" class="Keyword">data</a> <a id="T.Fake._≤_"></a><a id="351" href="Code.html#351" class="Datatype Operator">_≤_</a> <a id="355" class="Symbol">:</a> <a id="357" href="Code.html#172" class="Datatype">Type</a> <a id="362" class="Symbol">→</a> <a id="364" href="Code.html#172" class="Datatype">Type</a> <a id="369" class="Symbol">→</a> <a id="371" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="375" class="Keyword">where</a>

      <a id="T.Fake._≤_.≤★"></a><a id="388" href="Code.html#388" class="InductiveConstructor">≤★</a> <a id="391" class="Symbol">:</a>
          <a id="403" class="Comment">-----</a>
          <a id="419" href="Code.html#269" class="Generalizable">A</a> <a id="421" href="Code.html#351" class="Datatype Operator">≤</a> <a id="423" href="Code.html#193" class="InductiveConstructor">★</a>

      <a id="T.Fake._≤_.id"></a><a id="432" href="Code.html#432" class="InductiveConstructor">id</a> <a id="435" class="Symbol">:</a>
          <a id="447" class="Comment">-----</a>
          <a id="463" href="Code.html#269" class="Generalizable">A</a> <a id="465" href="Code.html#351" class="Datatype Operator">≤</a> <a id="467" href="Code.html#269" class="Generalizable">A</a>

      <a id="T.Fake._≤_._⇒_"></a><a id="476" href="Code.html#476" class="InductiveConstructor Operator">_⇒_</a> <a id="480" class="Symbol">:</a>
          <a id="492" href="Code.html#269" class="Generalizable">A</a> <a id="494" href="Code.html#351" class="Datatype Operator">≤</a> <a id="496" href="Code.html#271" class="Generalizable">A′</a>
        <a id="507" class="Symbol">→</a> <a id="509" href="Code.html#274" class="Generalizable">B</a> <a id="511" href="Code.html#351" class="Datatype Operator">≤</a> <a id="513" href="Code.html#276" class="Generalizable">B′</a>
          <a id="526" class="Comment">-------------------</a>
        <a id="554" class="Symbol">→</a> <a id="556" class="Symbol">(</a><a id="557" href="Code.html#269" class="Generalizable">A</a> <a id="559" href="Code.html#206" class="InductiveConstructor Operator">⇒</a> <a id="561" href="Code.html#274" class="Generalizable">B</a><a id="562" class="Symbol">)</a> <a id="564" href="Code.html#351" class="Datatype Operator">≤</a> <a id="566" class="Symbol">(</a><a id="567" href="Code.html#271" class="Generalizable">A′</a> <a id="570" href="Code.html#206" class="InductiveConstructor Operator">⇒</a> <a id="572" href="Code.html#276" class="Generalizable">B′</a><a id="574" class="Symbol">)</a>
</pre>
          </code>
          </section>
          <section>
            <div>Well-typed terms <code>Γ ⊢ M ⦂ A</code></div>
          <code class="big">
            
<pre class="Agda">    <a id="1294" class="Keyword">data</a> <a id="T.W._⊢_⦂_"></a><a id="1299" href="Code.html#1299" class="Datatype Operator">_⊢_⦂_</a> <a id="1305" class="Symbol">:</a> <a id="1307" href="Code.html#1078" class="Datatype">Context</a> <a id="1315" class="Symbol">→</a> <a id="1317" href="Code.html#1156" class="Datatype">Term</a> <a id="1322" class="Symbol">→</a> <a id="1324" href="Code.html#172" class="Datatype">Type</a> <a id="1329" class="Symbol">→</a> <a id="1331" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1335" class="Keyword">where</a>

      <a id="T.W._⊢_⦂_.materialize"></a><a id="1348" href="Code.html#1348" class="InductiveConstructor">materialize</a> <a id="1360" class="Symbol">:</a>
           <a id="1373" href="Code.html#269" class="Generalizable">A</a> <a id="1375" href="Code.html#754" class="Datatype Operator">≤</a> <a id="1377" href="Code.html#274" class="Generalizable">B</a>
        <a id="1387" class="Symbol">→</a>  <a id="1390" href="Code.html#1197" class="Generalizable">Γ</a> <a id="1392" href="Code.html#1299" class="Datatype Operator">⊢</a> <a id="1394" href="Code.html#1213" class="Generalizable">M</a> <a id="1396" href="Code.html#1299" class="Datatype Operator">⦂</a> <a id="1398" href="Code.html#274" class="Generalizable">B</a>
           <a id="1411" class="Comment">---------</a>
        <a id="1429" class="Symbol">→</a>  <a id="1432" href="Code.html#1197" class="Generalizable">Γ</a> <a id="1434" href="Code.html#1299" class="Datatype Operator">⊢</a> <a id="1436" href="Code.html#1213" class="Generalizable">M</a> <a id="1438" href="Code.html#1299" class="Datatype Operator">⦂</a> <a id="1440" href="Code.html#269" class="Generalizable">A</a>

      <a id="1449" class="Comment">-- etc.</a>
</pre>
          </code>
          </section>
          <section>
            <div>Example derivation</div>
            <div class="left">
              \(\termcolor{f} : \typecolor{\star \to \star}\)
              <br>\(\termcolor{x} : \typecolor{\nat}\)
              <br>\(\termcolor{\app{f}{x}} : \typecolor{\nat}\)
            </div>
            \[\begin{prooftree}
                    \AxiomC{\(\precision{\nat \to \nat}{\star \to \star}\)}
                    \AxiomC{\(\hastype{\Gamma}{f}{\star \to \star}\)}
                  \BinaryInfC{\(\hastype{\Gamma}{f}{\nat \to \nat}\)}
                  \AxiomC{\(\hastype{\Gamma}{x}{\nat}\)}
                \BinaryInfC{\(\hastype{\Gamma}{\app{f}{x}}{\nat}\)}
              \end{prooftree}
            \]
            <code>
              
<pre class="Agda">    <a id="2799" class="Symbol">λ</a> <a id="2801" class="Symbol">(</a><a id="2802" href="Code.html#2802" class="Bound">f</a> <a id="2804" class="Symbol">:</a> <a id="2806" href="Code.html#2726" class="Bound">Γ</a> <a id="2808" href="Code.html#2064" class="Datatype Operator">⊢</a> <a id="2810" href="Code.html#193" class="InductiveConstructor">★</a> <a id="2812" class="InductiveConstructor Operator">⇒</a> <a id="2814" href="Code.html#193" class="InductiveConstructor">★</a><a id="2815" class="Symbol">)</a>
      <a id="2823" class="Symbol">(</a><a id="2824" href="Code.html#2824" class="Bound">x</a> <a id="2826" class="Symbol">:</a> <a id="2828" href="Code.html#2726" class="Bound">Γ</a> <a id="2830" href="Code.html#2064" class="Datatype Operator">⊢</a> <a id="2832" class="InductiveConstructor">′ℕ</a><a id="2834" class="Symbol">)</a> <a id="2836" class="Symbol">→</a> 
      <a id="2845" class="Comment">------------------------------------</a>
      <a id="2888" class="Symbol">(</a><a id="2889" href="Code.html#2738" class="Bound">materialize</a> <a id="2901" href="Code.html#2661" class="Function">ℕ⇒ℕ≤★⇒★</a> <a id="2909" href="Code.html#2802" class="Bound">f</a><a id="2910" class="Symbol">)</a> <a id="2912" href="Code.html#2102" class="InductiveConstructor Operator">·</a> <a id="2914" href="Code.html#2824" class="Bound">x</a>  <a id="2917" class="Comment">-- : ′ℕ</a>
</pre>
            </code>
          </section>
          <section>
            <div>Gradual typing as a superset of static typing</div>
            <div>
              <p class="medium">
              If \(M\) is static (all binders annotated with non-\(\star\) types), then
              </p>
              \[\vdash_{\mathrm{Gradual}} M : A \iff \vdash_{\mathrm{STLC}} M : A\]
            </div>
          </section>
          <section>
            <div>Towards operational semantics</div>
            <div>Via compilation to a cast calculus</div>
            <div class="left">Surface language:
              \[\begin{prooftree}
                  \AxiomC{\(\precision{A}{B}\)}
                  \AxiomC{\(\hastype{\Gamma}{M}{B}\)}
                \BinaryInfC{\(\hastype{\Gamma}{M}{A}\)}
              \end{prooftree}\]
            </div>
            <div class="fragment left">Cast calculus:
              \[\begin{prooftree}
                  \AxiomC{\(\castcolor{p :}\precision{A}{B}\)}
                  \AxiomC{\(\hastype{\Gamma}{M}{B}\)}
                \BinaryInfC{\(\hastype{\Gamma}{\castcolor{\castof{p}\,}M}{A}\)}
              \end{prooftree}\]
            </div>
          </section>
          <section>
            <div class="left">Surface:</div>
            <code>
              
<pre class="Agda">  <a id="1516" class="Keyword">data</a> <a id="T._⊢_⦂_"></a><a id="1521" href="Code.html#1521" class="Datatype Operator">_⊢_⦂_</a> <a id="1527" class="Symbol">:</a> <a id="1529" href="Code.html#1078" class="Datatype">Context</a> <a id="1537" class="Symbol">→</a> <a id="1539" href="Code.html#1156" class="Datatype">Term</a> <a id="1544" class="Symbol">→</a> <a id="1546" href="Code.html#172" class="Datatype">Type</a> <a id="1551" class="Symbol">→</a> <a id="1553" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1557" class="Keyword">where</a>

    <a id="T._⊢_⦂_.materialize"></a><a id="1568" href="Code.html#1568" class="InductiveConstructor">materialize</a> <a id="1580" class="Symbol">:</a>
         <a id="1591" class="Symbol">(</a><a id="1592" href="Code.html#1592" class="Bound">p</a> <a id="1594" class="Symbol">:</a> <a id="1596" href="Code.html#269" class="Generalizable">A</a> <a id="1598" href="Code.html#754" class="Datatype Operator">≤</a> <a id="1600" href="Code.html#274" class="Generalizable">B</a><a id="1601" class="Symbol">)</a>
      <a id="1609" class="Symbol">→</a>  <a id="1612" href="Code.html#1197" class="Generalizable">Γ</a> <a id="1614" href="Code.html#1521" class="Datatype Operator">⊢</a> <a id="1616" href="Code.html#1213" class="Generalizable">M</a> <a id="1618" href="Code.html#1521" class="Datatype Operator">⦂</a> <a id="1620" href="Code.html#274" class="Generalizable">B</a>
         <a id="1631" class="Comment">---------</a>
      <a id="1647" class="Symbol">→</a>  <a id="1650" href="Code.html#1197" class="Generalizable">Γ</a> <a id="1652" href="Code.html#1521" class="Datatype Operator">⊢</a> <a id="1654" href="Code.html#1213" class="Generalizable">M</a> <a id="1656" href="Code.html#1521" class="Datatype Operator">⦂</a> <a id="1658" href="Code.html#269" class="Generalizable">A</a>

    <a id="1665" class="Comment">-- etc.</a>
</pre>
            </code>
            <div>The derivation already has the right structure.</div>
          </section>
          <section>
            <div class="left">Cast calculus, intrinsically typed <code>M : Γ ⊢ A</code>:</div>
            <code>
              
<pre class="Agda">  <a id="2059" class="Keyword">data</a> <a id="T._⊢_"></a><a id="2064" href="Code.html#2064" class="Datatype Operator">_⊢_</a> <a id="2068" class="Symbol">:</a> <a id="2070" href="Code.html#1078" class="Datatype">Context</a> <a id="2078" class="Symbol">→</a> <a id="2080" href="Code.html#172" class="Datatype">Type</a> <a id="2085" class="Symbol">→</a> <a id="2087" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="2091" class="Keyword">where</a>

    <a id="T._⊢_._·_"></a><a id="2102" href="Code.html#2102" class="InductiveConstructor Operator">_·_</a> <a id="2106" class="Symbol">:</a>
         <a id="2117" href="Code.html#1197" class="Generalizable">Γ</a> <a id="2119" href="Code.html#2064" class="Datatype Operator">⊢</a> <a id="2121" href="Code.html#269" class="Generalizable">A</a> <a id="2123" class="InductiveConstructor Operator">⇒</a> <a id="2125" href="Code.html#274" class="Generalizable">B</a>
      <a id="2133" class="Symbol">→</a>  <a id="2136" href="Code.html#1197" class="Generalizable">Γ</a> <a id="2138" href="Code.html#2064" class="Datatype Operator">⊢</a> <a id="2140" href="Code.html#269" class="Generalizable">A</a>
         <a id="2151" class="Comment">--------- application</a>
      <a id="2179" class="Symbol">→</a>  <a id="2182" href="Code.html#1197" class="Generalizable">Γ</a> <a id="2184" href="Code.html#2064" class="Datatype Operator">⊢</a> <a id="2186" href="Code.html#274" class="Generalizable">B</a>

    <a id="T._⊢_.ƛ_"></a><a id="2193" href="Code.html#2193" class="InductiveConstructor Operator">ƛ_</a> <a id="2196" class="Symbol">:</a>
         <a id="2207" href="Code.html#1197" class="Generalizable">Γ</a> <a id="2209" href="Code.html#1118" class="InductiveConstructor Operator">▷</a> <a id="2211" href="Code.html#269" class="Generalizable">A</a> <a id="2213" href="Code.html#2064" class="Datatype Operator">⊢</a> <a id="2215" href="Code.html#274" class="Generalizable">B</a>
         <a id="2226" class="Comment">--------- abstraction</a>
      <a id="2254" class="Symbol">→</a>  <a id="2257" href="Code.html#1197" class="Generalizable">Γ</a> <a id="2259" href="Code.html#2064" class="Datatype Operator">⊢</a> <a id="2261" href="Code.html#269" class="Generalizable">A</a> <a id="2263" class="InductiveConstructor Operator">⇒</a> <a id="2265" href="Code.html#274" class="Generalizable">B</a>

    <a id="T._⊢_.`_"></a><a id="2272" href="Code.html#2272" class="InductiveConstructor Operator">`_</a> <a id="2275" class="Symbol">:</a>
         <a id="2286" href="Code.html#1197" class="Generalizable">Γ</a> <a id="2288" href="Code.html#1972" class="Datatype Operator">∋</a> <a id="2290" href="Code.html#269" class="Generalizable">A</a>
         <a id="2301" class="Comment">----- variable</a>
      <a id="2322" class="Symbol">→</a>  <a id="2325" href="Code.html#1197" class="Generalizable">Γ</a> <a id="2327" href="Code.html#2064" class="Datatype Operator">⊢</a> <a id="2329" href="Code.html#269" class="Generalizable">A</a>

    <a id="2336" class="Comment">-- etc.</a>
</pre>
            </code>
          </section>
          <section>
            <div class="left">Cast rule <code>M : Γ ⊢ A</code>:</div>
            <code>
              
<pre class="Agda">    <a id="T._⊢_.cast"></a><a id="2393" href="Code.html#2393" class="InductiveConstructor">cast</a> <a id="2398" class="Symbol">:</a>
         <a id="2409" href="Code.html#269" class="Generalizable">A</a> <a id="2411" href="Code.html#1754" class="Datatype Operator">=&gt;</a> <a id="2414" href="Code.html#274" class="Generalizable">B</a>
      <a id="2422" class="Symbol">→</a>  <a id="2425" href="Code.html#1197" class="Generalizable">Γ</a> <a id="2427" href="Code.html#2064" class="Datatype Operator">⊢</a> <a id="2429" href="Code.html#269" class="Generalizable">A</a>
         <a id="2440" class="Comment">---------</a>
      <a id="2456" class="Symbol">→</a>  <a id="2459" href="Code.html#1197" class="Generalizable">Γ</a> <a id="2461" href="Code.html#2064" class="Datatype Operator">⊢</a> <a id="2463" href="Code.html#274" class="Generalizable">B</a>
</pre>
            </code>
            <div class="left fragment">
              <div>Casts = upcasts and downcasts:</div>
              <code>
                
<pre class="Agda">  <a id="1749" class="Keyword">data</a> <a id="T._=&gt;_"></a><a id="1754" href="Code.html#1754" class="Datatype Operator">_=&gt;_</a> <a id="1759" class="Symbol">:</a> <a id="1761" href="Code.html#172" class="Datatype">Type</a> <a id="1766" class="Symbol">→</a> <a id="1768" href="Code.html#172" class="Datatype">Type</a> <a id="1773" class="Symbol">→</a> <a id="1775" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1779" class="Keyword">where</a>
    <a id="T._=&gt;_.+_"></a><a id="1789" href="Code.html#1789" class="InductiveConstructor Operator">+_</a> <a id="1792" class="Symbol">:</a>
         <a id="1803" href="Code.html#269" class="Generalizable">A</a> <a id="1805" href="Code.html#754" class="Datatype Operator">≤</a> <a id="1807" href="Code.html#274" class="Generalizable">B</a>
         <a id="1818" class="Comment">------ upcast</a>
      <a id="1838" class="Symbol">→</a>  <a id="1841" href="Code.html#269" class="Generalizable">A</a> <a id="1843" href="Code.html#1754" class="Datatype Operator">=&gt;</a> <a id="1846" href="Code.html#274" class="Generalizable">B</a>

    <a id="T._=&gt;_.-_"></a><a id="1853" href="Code.html#1853" class="InductiveConstructor Operator">-_</a> <a id="1856" class="Symbol">:</a>
         <a id="1867" href="Code.html#274" class="Generalizable">B</a> <a id="1869" href="Code.html#754" class="Datatype Operator">≤</a> <a id="1871" href="Code.html#269" class="Generalizable">A</a>
         <a id="1882" class="Comment">------ downcast</a>
      <a id="1904" class="Symbol">→</a>  <a id="1907" href="Code.html#269" class="Generalizable">A</a> <a id="1909" href="Code.html#1754" class="Datatype Operator">=&gt;</a> <a id="1912" href="Code.html#274" class="Generalizable">B</a>
</pre>
              </code>
            </div>
          </section>
          <section>
            <div>Boxes: values of type \(\star\)</div>
            <code>
              
<pre class="Agda">    <a id="T._⊢_._⇑_"></a><a id="2514" href="Code.html#2514" class="InductiveConstructor Operator">_⇑_</a> <a id="2518" class="Symbol">:</a>
         <a id="2529" class="Symbol">(</a><a id="2530" href="Code.html#2530" class="Bound">M</a> <a id="2532" class="Symbol">:</a> <a id="2534" href="Code.html#1197" class="Generalizable">Γ</a> <a id="2536" href="Code.html#2064" class="Datatype Operator">⊢</a> <a id="2538" href="Code.html#279" class="Generalizable">G</a><a id="2539" class="Symbol">)</a>
      <a id="2547" class="Symbol">→</a>  <a id="2550" class="Symbol">(</a><a id="2551" href="Code.html#2551" class="Bound">g</a> <a id="2553" class="Symbol">:</a> <a id="2555" href="Code.html#626" class="Datatype">Ground</a> <a id="2562" href="Code.html#279" class="Generalizable">G</a><a id="2563" class="Symbol">)</a>
         <a id="2574" class="Comment">-------------- box</a>
      <a id="2599" class="Symbol">→</a>  <a id="2602" href="Code.html#1197" class="Generalizable">Γ</a> <a id="2604" href="Code.html#2064" class="Datatype Operator">⊢</a> <a id="2606" href="Code.html#193" class="InductiveConstructor">★</a>
</pre>
            </code>
            <div class="fragment">
              <div>Ground type is a "tag"</div>
              <code>
                
<pre class="Agda">  <a id="621" class="Keyword">data</a> <a id="T.Ground"></a><a id="626" href="Code.html#626" class="Datatype">Ground</a> <a id="633" class="Symbol">:</a> <a id="635" href="Code.html#172" class="Datatype">Type</a> <a id="640" class="Symbol">→</a> <a id="642" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="646" class="Keyword">where</a>

    <a id="T.Ground.★⇒★"></a><a id="657" href="Code.html#657" class="InductiveConstructor">★⇒★</a> <a id="661" class="Symbol">:</a> <a id="663" href="Code.html#626" class="Datatype">Ground</a> <a id="670" class="Symbol">(</a><a id="671" href="Code.html#193" class="InductiveConstructor">★</a> <a id="673" href="Code.html#206" class="InductiveConstructor Operator">⇒</a> <a id="675" href="Code.html#193" class="InductiveConstructor">★</a><a id="676" class="Symbol">)</a>

    <a id="T.Ground.′ℕ"></a><a id="683" href="Code.html#683" class="InductiveConstructor">′ℕ</a> <a id="686" class="Symbol">:</a> <a id="688" href="Code.html#626" class="Datatype">Ground</a> <a id="695" href="Code.html#235" class="InductiveConstructor">′ℕ</a>
</pre>
              </code>
            </div>
            <div class="fragment">
              <div class="medium">A more informative encoding of precision/casts</div>
              <code>
                
<pre class="Agda">  <a id="749" class="Keyword">data</a> <a id="T._≤_"></a><a id="754" href="Code.html#754" class="Datatype Operator">_≤_</a> <a id="758" class="Symbol">:</a> <a id="760" href="Code.html#172" class="Datatype">Type</a> <a id="765" class="Symbol">→</a> <a id="767" href="Code.html#172" class="Datatype">Type</a> <a id="772" class="Symbol">→</a> <a id="774" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="778" class="Keyword">where</a>
    <a id="T._≤_._⇑_"></a><a id="788" href="Code.html#788" class="InductiveConstructor Operator">_⇑_</a> <a id="792" class="Symbol">:</a>        <a id="801" class="Comment">-- replaces the rule ≤★ : A ≤ ★</a>
        <a id="841" class="Symbol">(</a><a id="842" href="Code.html#842" class="Bound">p</a> <a id="844" class="Symbol">:</a> <a id="846" href="Code.html#269" class="Generalizable">A</a> <a id="848" href="Code.html#754" class="Datatype Operator">≤</a> <a id="850" href="Code.html#279" class="Generalizable">G</a><a id="851" class="Symbol">)</a>
      <a id="859" class="Symbol">→</a> <a id="861" class="Symbol">(</a><a id="862" href="Code.html#862" class="Bound">g</a> <a id="864" class="Symbol">:</a> <a id="866" href="Code.html#626" class="Datatype">Ground</a> <a id="873" href="Code.html#279" class="Generalizable">G</a><a id="874" class="Symbol">)</a>
        <a id="884" class="Comment">-----</a>
      <a id="896" class="Symbol">→</a> <a id="898" href="Code.html#269" class="Generalizable">A</a> <a id="900" href="Code.html#754" class="Datatype Operator">≤</a> <a id="902" href="Code.html#193" class="InductiveConstructor">★</a>
</pre>
              </code>
            </div>
          </section>
          <section>
            <div>Operational semantics of boxes <code>V ⇑ g</code></div>
            <code>
              
<pre class="Agda">  <a id="3253" class="Keyword">data</a> <a id="T._↦_"></a><a id="3258" href="Code.html#3258" class="Datatype Operator">_↦_</a> <a id="3262" class="Symbol">:</a> <a id="3264" href="Code.html#1197" class="Generalizable">Γ</a> <a id="3266" href="Code.html#2064" class="Datatype Operator">⊢</a> <a id="3268" href="Code.html#269" class="Generalizable">A</a> <a id="3270" class="Symbol">→</a> <a id="3272" href="Code.html#1197" class="Generalizable">Γ</a> <a id="3274" href="Code.html#2064" class="Datatype Operator">⊢</a> <a id="3276" href="Code.html#269" class="Generalizable">A</a> <a id="3278" class="Symbol">→</a> <a id="3280" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="3284" class="Keyword">where</a>
</pre>
            </code>
            <code class="fragment">
              
<pre class="Agda">    <a id="T._↦_.expand"></a><a id="3337" href="Code.html#3337" class="InductiveConstructor">expand</a> <a id="3344" class="Symbol">:</a> <a id="3346" class="Symbol">∀</a> <a id="3348" class="Symbol">{</a><a id="3349" href="Code.html#3349" class="Bound">V</a> <a id="3351" class="Symbol">:</a> <a id="3353" href="Code.html#1197" class="Generalizable">Γ</a> <a id="3355" href="Code.html#2064" class="Datatype Operator">⊢</a> <a id="3357" href="Code.html#269" class="Generalizable">A</a><a id="3358" class="Symbol">}</a> <a id="3360" class="Symbol">{</a><a id="3361" href="Code.html#3361" class="Bound">p</a> <a id="3363" class="Symbol">:</a> <a id="3365" href="Code.html#269" class="Generalizable">A</a> <a id="3367" href="Code.html#754" class="Datatype Operator">≤</a> <a id="3369" href="Code.html#279" class="Generalizable">G</a><a id="3370" class="Symbol">}</a>
      <a id="3378" class="Symbol">→</a> <a id="3380" href="Code.html#3007" class="Datatype">Value</a> <a id="3386" href="Code.html#3349" class="Bound">V</a>
      <a id="3394" class="Symbol">→</a> <a id="3396" class="Symbol">(</a><a id="3397" href="Code.html#3397" class="Bound">g</a> <a id="3399" class="Symbol">:</a> <a id="3401" href="Code.html#626" class="Datatype">Ground</a> <a id="3408" href="Code.html#279" class="Generalizable">G</a><a id="3409" class="Symbol">)</a>
        <a id="3419" class="Comment">-------------------------------------</a>
      <a id="3463" class="Symbol">→</a> <a id="3465" href="Code.html#2393" class="InductiveConstructor">cast</a> <a id="3470" class="Symbol">(</a><a id="3471" href="Code.html#1789" class="InductiveConstructor Operator">+</a> <a id="3473" class="Symbol">(</a><a id="3474" href="Code.html#3361" class="Bound">p</a> <a id="3476" class="InductiveConstructor Operator">⇑</a> <a id="3478" href="Code.html#3397" class="Bound">g</a><a id="3479" class="Symbol">))</a> <a id="3482" href="Code.html#3349" class="Bound">V</a> <a id="3484" href="Code.html#3258" class="Datatype Operator">↦</a> <a id="3486" href="Code.html#2393" class="InductiveConstructor">cast</a> <a id="3491" class="Symbol">(</a><a id="3492" href="Code.html#1789" class="InductiveConstructor Operator">+</a> <a id="3494" href="Code.html#3361" class="Bound">p</a><a id="3495" class="Symbol">)</a> <a id="3497" href="Code.html#3349" class="Bound">V</a> <a id="3499" class="InductiveConstructor Operator">⇑</a> <a id="3501" href="Code.html#3397" class="Bound">g</a>
</pre>
            </code>
            <code class="fragment">
              
<pre class="Agda">    <a id="T._↦_.collapse"></a><a id="3550" href="Code.html#3550" class="InductiveConstructor">collapse</a> <a id="3559" class="Symbol">:</a> <a id="3561" class="Symbol">∀</a> <a id="3563" class="Symbol">{</a><a id="3564" href="Code.html#3564" class="Bound">V</a> <a id="3566" class="Symbol">:</a> <a id="3568" href="Code.html#1197" class="Generalizable">Γ</a> <a id="3570" href="Code.html#2064" class="Datatype Operator">⊢</a> <a id="3572" href="Code.html#279" class="Generalizable">G</a><a id="3573" class="Symbol">}</a> <a id="3575" class="Symbol">{</a><a id="3576" href="Code.html#3576" class="Bound">p</a> <a id="3578" class="Symbol">:</a> <a id="3580" href="Code.html#269" class="Generalizable">A</a> <a id="3582" href="Code.html#754" class="Datatype Operator">≤</a> <a id="3584" href="Code.html#279" class="Generalizable">G</a><a id="3585" class="Symbol">}</a>
      <a id="3593" class="Symbol">→</a> <a id="3595" href="Code.html#3007" class="Datatype">Value</a> <a id="3601" href="Code.html#3564" class="Bound">V</a>
      <a id="3609" class="Symbol">→</a> <a id="3611" class="Symbol">(</a><a id="3612" href="Code.html#3612" class="Bound">g</a> <a id="3614" class="Symbol">:</a> <a id="3616" href="Code.html#626" class="Datatype">Ground</a> <a id="3623" href="Code.html#279" class="Generalizable">G</a><a id="3624" class="Symbol">)</a>
        <a id="3634" class="Comment">---------------------------------------</a>
      <a id="3680" class="Symbol">→</a> <a id="3682" href="Code.html#2393" class="InductiveConstructor">cast</a> <a id="3687" class="Symbol">(</a><a id="3688" href="Code.html#1853" class="InductiveConstructor Operator">-</a> <a id="3690" class="Symbol">(</a><a id="3691" href="Code.html#3576" class="Bound">p</a> <a id="3693" class="InductiveConstructor Operator">⇑</a> <a id="3695" href="Code.html#3612" class="Bound">g</a><a id="3696" class="Symbol">))</a> <a id="3699" class="Symbol">(</a><a id="3700" href="Code.html#3564" class="Bound">V</a> <a id="3702" class="InductiveConstructor Operator">⇑</a> <a id="3704" href="Code.html#3612" class="Bound">g</a><a id="3705" class="Symbol">)</a> <a id="3707" href="Code.html#3258" class="Datatype Operator">↦</a> <a id="3709" href="Code.html#2393" class="InductiveConstructor">cast</a> <a id="3714" class="Symbol">(</a><a id="3715" href="Code.html#1853" class="InductiveConstructor Operator">-</a> <a id="3717" href="Code.html#3576" class="Bound">p</a><a id="3718" class="Symbol">)</a> <a id="3720" href="Code.html#3564" class="Bound">V</a>
</pre>
            </code>
            <code class="fragment">
              
<pre class="Agda">    <a id="T._↦_.collide"></a><a id="3769" href="Code.html#3769" class="InductiveConstructor">collide</a>  <a id="3778" class="Symbol">:</a> <a id="3780" class="Symbol">∀</a> <a id="3782" class="Symbol">{</a><a id="3783" href="Code.html#3783" class="Bound">V</a> <a id="3785" class="Symbol">:</a> <a id="3787" href="Code.html#1197" class="Generalizable">Γ</a> <a id="3789" href="Code.html#2064" class="Datatype Operator">⊢</a> <a id="3791" href="Code.html#279" class="Generalizable">G</a><a id="3792" class="Symbol">}</a> <a id="3794" class="Symbol">{</a><a id="3795" href="Code.html#3795" class="Bound">p</a> <a id="3797" class="Symbol">:</a> <a id="3799" href="Code.html#269" class="Generalizable">A</a> <a id="3801" href="Code.html#754" class="Datatype Operator">≤</a> <a id="3803" href="Code.html#281" class="Generalizable">H</a><a id="3804" class="Symbol">}</a>
      <a id="3812" class="Symbol">→</a> <a id="3814" href="Code.html#3007" class="Datatype">Value</a> <a id="3820" href="Code.html#3783" class="Bound">V</a>
      <a id="3828" class="Symbol">→</a> <a id="3830" class="Symbol">(</a><a id="3831" href="Code.html#3831" class="Bound">g</a> <a id="3833" class="Symbol">:</a> <a id="3835" href="Code.html#626" class="Datatype">Ground</a> <a id="3842" href="Code.html#279" class="Generalizable">G</a><a id="3843" class="Symbol">)</a>
      <a id="3851" class="Symbol">→</a> <a id="3853" class="Symbol">(</a><a id="3854" href="Code.html#3854" class="Bound">h</a> <a id="3856" class="Symbol">:</a> <a id="3858" href="Code.html#626" class="Datatype">Ground</a> <a id="3865" href="Code.html#281" class="Generalizable">H</a><a id="3866" class="Symbol">)</a>
      <a id="3874" class="Symbol">→</a> <a id="3876" href="Code.html#279" class="Generalizable">G</a> <a id="3878" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="3880" href="Code.html#281" class="Generalizable">H</a>
        <a id="3890" class="Comment">--------------------------------</a>
      <a id="3929" class="Symbol">→</a> <a id="3931" href="Code.html#2393" class="InductiveConstructor">cast</a> <a id="3936" class="Symbol">(</a><a id="3937" href="Code.html#1853" class="InductiveConstructor Operator">-</a> <a id="3939" class="Symbol">(</a><a id="3940" href="Code.html#3795" class="Bound">p</a> <a id="3942" class="InductiveConstructor Operator">⇑</a> <a id="3944" href="Code.html#3854" class="Bound">h</a><a id="3945" class="Symbol">))</a> <a id="3948" class="Symbol">(</a><a id="3949" href="Code.html#3783" class="Bound">V</a> <a id="3951" class="InductiveConstructor Operator">⇑</a> <a id="3953" href="Code.html#3831" class="Bound">g</a><a id="3954" class="Symbol">)</a> <a id="3956" href="Code.html#3258" class="Datatype Operator">↦</a> <a id="3958" href="Code.html#2636" class="InductiveConstructor">blame</a>
</pre>
            </code>
          </section>
          <section>
            <div>Operational semantics of function casts <code>(∓s ⇒ ±t)</code></div>
            <code>
              
<pre class="Agda">    <a id="T._↦_.wrap"></a><a id="4009" href="Code.html#4009" class="InductiveConstructor">wrap</a> <a id="4014" class="Symbol">:</a> <a id="4016" class="Symbol">∀</a> <a id="4018" class="Symbol">{</a><a id="4019" href="Code.html#4019" class="Bound">N</a> <a id="4021" class="Symbol">:</a> <a id="4023" href="Code.html#1197" class="Generalizable">Γ</a> <a id="4025" href="Code.html#1118" class="InductiveConstructor Operator">▷</a> <a id="4027" href="Code.html#269" class="Generalizable">A</a> <a id="4029" href="Code.html#2064" class="Datatype Operator">⊢</a> <a id="4031" href="Code.html#274" class="Generalizable">B</a><a id="4032" class="Symbol">}</a>
        <a id="4042" class="Symbol">{</a><a id="4043" href="Code.html#4043" class="Bound">∓s</a> <a id="4046" class="Symbol">:</a> <a id="4048" href="Code.html#271" class="Generalizable">A′</a> <a id="4051" href="Code.html#1754" class="Datatype Operator">=&gt;</a> <a id="4054" href="Code.html#269" class="Generalizable">A</a><a id="4055" class="Symbol">}</a> <a id="4057" class="Symbol">{</a><a id="4058" href="Code.html#4058" class="Bound">±t</a> <a id="4061" class="Symbol">:</a> <a id="4063" href="Code.html#274" class="Generalizable">B</a> <a id="4065" href="Code.html#1754" class="Datatype Operator">=&gt;</a> <a id="4068" href="Code.html#276" class="Generalizable">B′</a><a id="4070" class="Symbol">}</a> <a id="4072" class="Symbol">{</a><a id="4073" href="Code.html#4073" class="Bound">±p</a> <a id="4076" class="Symbol">:</a> <a id="4078" href="Code.html#269" class="Generalizable">A</a> <a id="4080" class="InductiveConstructor Operator">⇒</a> <a id="4082" href="Code.html#274" class="Generalizable">B</a> <a id="4084" href="Code.html#1754" class="Datatype Operator">=&gt;</a> <a id="4087" href="Code.html#271" class="Generalizable">A′</a> <a id="4090" class="InductiveConstructor Operator">⇒</a> <a id="4092" href="Code.html#276" class="Generalizable">B′</a><a id="4094" class="Symbol">}</a>
      <a id="4102" class="Symbol">→</a> <a id="4104" href="Code.html#3156" class="Function">split</a> <a id="4110" href="Code.html#4073" class="Bound">±p</a> <a id="4113" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4115" href="Code.html#4043" class="Bound">∓s</a> <a id="4118" class="InductiveConstructor Operator">⇒</a> <a id="4120" href="Code.html#4058" class="Bound">±t</a>
        <a id="4131" class="Comment">----------------------------------------------------</a>
      <a id="4190" class="Symbol">→</a> <a id="4192" href="Code.html#2393" class="InductiveConstructor">cast</a> <a id="4197" href="Code.html#4073" class="Bound">±p</a> <a id="4200" class="Symbol">(</a><a id="4201" href="Code.html#2193" class="InductiveConstructor Operator">ƛ</a> <a id="4203" href="Code.html#4019" class="Bound">N</a><a id="4204" class="Symbol">)</a> <a id="4206" href="Code.html#3258" class="Datatype Operator">↦</a> <a id="4208" href="Code.html#2193" class="InductiveConstructor Operator">ƛ</a> <a id="4210" class="Symbol">(</a><a id="4211" href="Code.html#2393" class="InductiveConstructor">cast</a> <a id="4216" href="Code.html#4058" class="Bound">±t</a> <a id="4219" class="Symbol">(</a><a id="4220" href="Code.html#2951" class="Function">lift</a> <a id="4225" class="Symbol">(</a><a id="4226" href="Code.html#2193" class="InductiveConstructor Operator">ƛ</a> <a id="4228" href="Code.html#4019" class="Bound">N</a><a id="4229" class="Symbol">)</a> <a id="4231" href="Code.html#2102" class="InductiveConstructor Operator">·</a> <a id="4233" href="Code.html#2393" class="InductiveConstructor">cast</a> <a id="4238" href="Code.html#4043" class="Bound">∓s</a> <a id="4241" class="Symbol">(</a><a id="4242" href="Code.html#2272" class="InductiveConstructor Operator">`</a> <a id="4244" href="Code.html#2009" class="InductiveConstructor">Z</a><a id="4245" class="Symbol">)))</a>
</pre>
            </code>
            <div>Rewritten with variable names:<br>
              <code class="medium-small">cast (∓s ⇒ ±t) f  ↦  λ x. cast ±t (f (cast ∓s x)) </code></div>
          </section>
          <section>
            <div>Progress <span class="strike">and preservation</span></div>
            <div class="flexbox">
            <code class="flex-2">
              
<pre class="Agda">  <a id="5265" class="Keyword">data</a> <a id="W.Progress"></a><a id="5270" href="Code.html#5270" class="Datatype">Progress</a> <a id="5279" class="Symbol">:</a> <a id="5281" class="Symbol">(</a><a id="5282" href="Core.html#372" class="InductiveConstructor">∅</a> <a id="5284" href="Core.html#1038" class="Datatype Operator">⊢</a> <a id="5286" href="Code.html#5223" class="Generalizable">A</a><a id="5287" class="Symbol">)</a> <a id="5289" class="Symbol">→</a> <a id="5291" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="5295" class="Keyword">where</a>

    <a id="W.Progress.step"></a><a id="5306" href="Code.html#5306" class="InductiveConstructor">step</a> <a id="5311" class="Symbol">:</a> <a id="5313" class="Symbol">∀</a> <a id="5315" class="Symbol">{</a><a id="5316" href="Code.html#5316" class="Bound">M</a> <a id="5318" href="Code.html#5318" class="Bound">N</a> <a id="5320" class="Symbol">:</a> <a id="5322" href="Core.html#372" class="InductiveConstructor">∅</a> <a id="5324" href="Core.html#1038" class="Datatype Operator">⊢</a> <a id="5326" href="Code.html#5223" class="Generalizable">A</a><a id="5327" class="Symbol">}</a>
      <a id="5335" class="Symbol">→</a>  <a id="5338" href="Code.html#5316" class="Bound">M</a> <a id="5340" href="Progress.html#15477" class="Datatype Operator">—→</a> <a id="5343" href="Code.html#5318" class="Bound">N</a>
         <a id="5354" class="Comment">----------</a>
      <a id="5371" class="Symbol">→</a>  <a id="5374" href="Code.html#5270" class="Datatype">Progress</a> <a id="5383" href="Code.html#5316" class="Bound">M</a>

    <a id="W.Progress.done"></a><a id="5390" href="Code.html#5390" class="InductiveConstructor">done</a> <a id="5395" class="Symbol">:</a> <a id="5397" class="Symbol">∀</a> <a id="5399" class="Symbol">{</a><a id="5400" href="Code.html#5400" class="Bound">M</a> <a id="5402" class="Symbol">:</a> <a id="5404" href="Core.html#372" class="InductiveConstructor">∅</a> <a id="5406" href="Core.html#1038" class="Datatype Operator">⊢</a> <a id="5408" href="Code.html#5223" class="Generalizable">A</a><a id="5409" class="Symbol">}</a>
      <a id="5417" class="Symbol">→</a>  <a id="5420" href="Core.html#22063" class="Datatype">Value</a> <a id="5426" href="Code.html#5400" class="Bound">M</a>
         <a id="5437" class="Comment">----------</a>
      <a id="5454" class="Symbol">→</a>  <a id="5457" href="Code.html#5270" class="Datatype">Progress</a> <a id="5466" href="Code.html#5400" class="Bound">M</a>

    <a id="W.Progress.blame"></a><a id="5473" href="Code.html#5473" class="InductiveConstructor">blame</a> <a id="5479" class="Symbol">:</a> <a id="5481" class="Symbol">∀</a> <a id="5483" class="Symbol">{</a><a id="5484" href="Code.html#5484" class="Bound">Q</a><a id="5485" class="Symbol">}</a>
      <a id="5493" class="Symbol">→</a>  <a id="5496" class="Symbol">(</a><a id="5497" href="Code.html#5497" class="Bound">E</a> <a id="5499" class="Symbol">:</a> <a id="5501" href="Progress.html#904" class="Datatype">Frame</a> <a id="5507" href="Core.html#372" class="InductiveConstructor">∅</a> <a id="5509" href="Code.html#5484" class="Bound">Q</a> <a id="5511" href="Code.html#5223" class="Generalizable">A</a><a id="5512" class="Symbol">)</a>
         <a id="5523" class="Comment">---------------------</a>
      <a id="5551" class="Symbol">→</a>  <a id="5554" href="Code.html#5270" class="Datatype">Progress</a> <a id="5563" class="Symbol">(</a><a id="5564" href="Code.html#5497" class="Bound">E</a> <a id="5566" href="Progress.html#2827" class="Function Operator">⟦</a> <a id="5568" href="Core.html#4129" class="InductiveConstructor">blame</a> <a id="5574" href="Progress.html#2827" class="Function Operator">⟧</a><a id="5575" class="Symbol">)</a>
</pre>
            </code>
            <code class="fragment flex-1">
              
<pre class="Agda">  <a id="5625" class="Comment">-- Theorem</a>
  <a id="W.progress"></a><a id="5638" href="Code.html#5638" class="Function">progress</a> <a id="5647" class="Symbol">:</a>
      <a id="5655" class="Symbol">(</a><a id="5656" href="Code.html#5656" class="Bound">M</a> <a id="5658" class="Symbol">:</a> <a id="5660" href="Core.html#372" class="InductiveConstructor">∅</a> <a id="5662" href="Core.html#1038" class="Datatype Operator">⊢</a> <a id="5664" href="Code.html#5223" class="Generalizable">A</a><a id="5665" class="Symbol">)</a>
      <a id="5673" class="Comment">-----------</a>
    <a id="5689" class="Symbol">→</a> <a id="5691" href="Code.html#5270" class="Datatype">Progress</a> <a id="5700" href="Code.html#5656" class="Bound">M</a>
  <a id="5704" href="Code.html#5638" class="Function">progress</a> <a id="5713" class="Symbol">=</a> <a id="5715" href="Code.html#120" class="Postulate">todo</a>
</pre>
            </code>
            </div>
            <div class="fragment">Progress proof \(\overset{\text{Curry-Howard}}{=}\) Interpreter</div>
          </section>
          <section>
            <div class="medium-small">Example: how to box <code>f : nat → nat</code> in \(\star\)</div>
            <div>
              <code class="fragment">
                
<pre class="Agda">          <a id="4435" href="Code.html#4435" class="Bound">M</a> <a id="4437" class="Symbol">=</a> <a id="4439" href="Code.html#2393" class="InductiveConstructor">cast</a> <a id="4444" class="Symbol">(</a><a id="4445" href="Code.html#1789" class="InductiveConstructor Operator">+</a> <a id="4447" class="Symbol">((</a><a id="4449" href="Code.html#932" class="InductiveConstructor">id</a> <a id="4452" class="InductiveConstructor Operator">⇑</a> <a id="4454" class="InductiveConstructor">′ℕ</a><a id="4456" class="Symbol">)</a> <a id="4458" class="InductiveConstructor Operator">⇒</a> <a id="4460" class="Symbol">(</a><a id="4461" href="Code.html#932" class="InductiveConstructor">id</a> <a id="4464" class="InductiveConstructor Operator">⇑</a> <a id="4466" class="InductiveConstructor">′ℕ</a><a id="4468" class="Symbol">))</a> <a id="4471" class="InductiveConstructor Operator">⇑</a> <a id="4473" href="Code.html#657" class="InductiveConstructor">★⇒★</a><a id="4476" class="Symbol">)</a> <a id="4478" href="Code.html#4380" class="Bound">f</a>
</pre>
              </code>
              <code class="fragment">
                
<pre class="Agda">            <a id="4570" class="Comment">-- by expand</a>
            <a id="4595" href="Code.html#3258" class="Datatype Operator">↦</a>  <a id="4598" href="Code.html#2393" class="InductiveConstructor">cast</a> <a id="4603" class="Symbol">(</a><a id="4604" href="Code.html#1789" class="InductiveConstructor Operator">+</a> <a id="4606" class="Symbol">((</a><a id="4608" href="Code.html#932" class="InductiveConstructor">id</a> <a id="4611" class="InductiveConstructor Operator">⇑</a> <a id="4613" class="InductiveConstructor">′ℕ</a><a id="4615" class="Symbol">)</a> <a id="4617" class="InductiveConstructor Operator">⇒</a> <a id="4619" class="Symbol">(</a><a id="4620" href="Code.html#932" class="InductiveConstructor">id</a> <a id="4623" class="InductiveConstructor Operator">⇑</a> <a id="4625" class="InductiveConstructor">′ℕ</a><a id="4627" class="Symbol">)))</a> <a id="4631" href="Code.html#4380" class="Bound">f</a> <a id="4633" class="InductiveConstructor Operator">⇑</a> <a id="4635" href="Code.html#657" class="InductiveConstructor">★⇒★</a>
</pre>
              </code>
              <code class="fragment">
                
<pre class="Agda">            <a id="4729" class="Comment">-- by wrap</a>
            <a id="4752" href="Code.html#3258" class="Datatype Operator">↦</a>  <a id="4755" class="Symbol">(</a><a id="4756" href="Code.html#2193" class="InductiveConstructor Operator">ƛ</a> <a id="4758" href="Code.html#2393" class="InductiveConstructor">cast</a> <a id="4763" class="Symbol">(</a><a id="4764" href="Code.html#1789" class="InductiveConstructor Operator">+</a> <a id="4766" class="Symbol">(</a><a id="4767" href="Code.html#932" class="InductiveConstructor">id</a> <a id="4770" class="InductiveConstructor Operator">⇑</a> <a id="4772" class="InductiveConstructor">′ℕ</a><a id="4774" class="Symbol">))</a>
                        <a id="4801" class="Symbol">(</a> <a id="4803" href="Code.html#2951" class="Function">lift</a> <a id="4808" href="Code.html#4380" class="Bound">f</a>
                        <a id="4834" href="Code.html#2102" class="InductiveConstructor Operator">·</a> <a id="4836" href="Code.html#2393" class="InductiveConstructor">cast</a> <a id="4841" class="Symbol">(</a><a id="4842" href="Code.html#1853" class="InductiveConstructor Operator">-</a> <a id="4844" class="Symbol">(</a><a id="4845" href="Code.html#932" class="InductiveConstructor">id</a> <a id="4848" class="InductiveConstructor Operator">⇑</a> <a id="4850" class="InductiveConstructor">′ℕ</a><a id="4852" class="Symbol">))</a> <a id="4855" class="Symbol">(</a><a id="4856" href="Code.html#2272" class="InductiveConstructor Operator">`</a> <a id="4858" href="Code.html#2009" class="InductiveConstructor">Z</a><a id="4859" class="Symbol">)))</a>  <a id="4864" class="InductiveConstructor Operator">⇑</a> <a id="4866" href="Code.html#657" class="InductiveConstructor">★⇒★</a>
            <a id="4882" class="Comment">--  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</a>
            <a id="4942" class="Comment">--  Value ((ƛ _) ⇑ ★⇒★</a>
</pre>
              </code>
            </div>
          </section>
        </section>

        <section>
          \[\begin{prooftree}
              \AxiomC{\(\hastype{\Gamma,x:A}{M}{B}\)}
            \UnaryInfC{\(\hastype{\Gamma}{\lam{x}{M}}{A \to B}\)}
          \end{prooftree}\]
        </section>
        <section>
          \[\begin{prooftree}
              \AxiomC{\(\hastype{\Gamma}{N}{A\to B}\)}
              \AxiomC{\(\hastype{\Gamma}{M}{A}\)}
            \BinaryInfC{\(\hastype{\Gamma}{\app{N}{M}}{B}\)}
          \end{prooftree}\]
        </section>
        <section>
          \[\begin{prooftree}
                  \AxiomC{}
                  \RightLabel{Tag \(\nat\)}
                \UnaryInfC{\(\nat \le \star\)}
                  \AxiomC{}
                  \RightLabel{Tag \(\bool\)}
                \UnaryInfC{\(\bool \le \star\)}
              \BinaryInfC{\((\nat \to \bool) \le (\star \to \star)\)}
              \RightLabel{Tag \((\star \to \star)\)}
            \UnaryInfC{\((\nat \to \bool) \le \star\)}
          \end{prooftree}\]
        </section>
        <section>
          <p>Some code</p>
          <code class="big">
            
<pre class="Agda"><a id="5762" class="Keyword">import</a> <a id="5769" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="5783" class="Keyword">open</a> <a id="5788" class="Keyword">import</a> <a id="5795" href="Utils.html" class="Module">Utils</a>
<a id="5801" class="Keyword">open</a> <a id="5806" class="Keyword">import</a> <a id="5813" href="Type.html" class="Module">Type</a>
<a id="5818" class="Keyword">open</a> <a id="5823" class="Keyword">import</a> <a id="5830" href="Core.html" class="Module">Core</a>
<a id="5835" class="Keyword">open</a> <a id="5840" class="Keyword">import</a> <a id="5847" href="Prec.html" class="Module">Prec</a> <a id="5852" class="Keyword">hiding</a> <a id="5859" class="Symbol">(</a><a id="5860" href="Prec.html#15864" class="InductiveConstructor">cast≤</a><a id="5865" class="Symbol">)</a>

<a id="5868" class="Keyword">data</a> <a id="_⊢¹_"></a><a id="5873" href="Code.html#5873" class="Datatype Operator">_⊢¹_</a> <a id="5878" class="Symbol">(</a><a id="5879" href="Code.html#5879" class="Bound">ℰ</a> <a id="5881" class="Symbol">:</a> <a id="5883" href="Agda.Primitive.html#320" class="Primitive">Set</a><a id="5886" class="Symbol">)</a> <a id="5888" class="Symbol">:</a> <a id="5890" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="5894" class="Keyword">where</a>
</pre>
          </code>
        </section>
        <section>
          \[\begin{CD}
           A @<<< C
           @VVV   @.
           B @.
          \end{CD}
          \]
        </section>
        <section>
          <style>
            .container { display: flex; align-items: center; }
            .col-1 { flex: 2; } .col-2 { flex: 1; }
          </style>
          <div class="container">
            <code class="col-1 tiny">
<pre class="Agda">  <a id="B.cast⁺≤"></a><a id="6114" href="Code.html#6114" class="Function">cast⁺≤</a> <a id="6121" class="Symbol">:</a> <a id="6123" class="Symbol">{</a><a id="6124" href="Code.html#6124" class="Bound">p</a> <a id="6126" class="Symbol">:</a> <a id="6128" href="Code.html#5958" class="Generalizable">P</a> <a id="6130" href="Type.html#7693" class="Record Operator">≤ᶜ</a> <a id="6133" href="Code.html#5963" class="Generalizable">Q</a><a id="6134" class="Symbol">}</a> <a id="6136" class="Symbol">{</a><a id="6137" href="Code.html#6137" class="Bound">q</a> <a id="6139" class="Symbol">:</a> <a id="6141" href="Code.html#5963" class="Generalizable">Q</a> <a id="6143" href="Type.html#7693" class="Record Operator">≤ᶜ</a> <a id="6146" href="Code.html#5965" class="Generalizable">R</a><a id="6147" class="Symbol">}</a> <a id="6149" class="Symbol">{</a><a id="6150" href="Code.html#6150" class="Bound">r</a> <a id="6152" class="Symbol">:</a> <a id="6154" href="Code.html#5958" class="Generalizable">P</a> <a id="6156" href="Type.html#7693" class="Record Operator">≤ᶜ</a> <a id="6159" href="Code.html#5965" class="Generalizable">R</a><a id="6160" class="Symbol">}</a>
    <a id="6166" class="Symbol">→</a>  <a id="6169" href="Code.html#6124" class="Bound">p</a> <a id="6171" href="Type.html#11340" class="Function Operator">⨟ᶜ</a> <a id="6174" href="Code.html#6137" class="Bound">q</a> <a id="6176" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6178" href="Code.html#6150" class="Bound">r</a>       <a id="6186" class="Comment">-- ← commutative triangle</a>
    <a id="6216" class="Symbol">→</a>  <a id="6219" href="Code.html#5994" class="Generalizable">Γ≤</a> <a id="6222" href="Prec.html#11589" class="Datatype Operator">⊢</a> <a id="6224" href="Code.html#6035" class="Generalizable">M</a> <a id="6226" href="Prec.html#11589" class="Datatype Operator">≤ᴹ</a> <a id="6229" href="Code.html#6047" class="Generalizable">M′</a> <a id="6232" href="Prec.html#11589" class="Datatype Operator">⦂</a> <a id="6234" href="Code.html#6150" class="Bound">r</a>
       <a id="6243" class="Comment">---------------------------</a>
    <a id="6275" class="Symbol">→</a>  <a id="6278" href="Code.html#5994" class="Generalizable">Γ≤</a> <a id="6281" href="Prec.html#11589" class="Datatype Operator">⊢</a> <a id="6283" href="Core.html#3688" class="InductiveConstructor">cast</a> <a id="6288" class="Symbol">(</a><a id="6289" href="Type.html#15288" class="InductiveConstructor Operator">+</a> <a id="6291" href="Code.html#6124" class="Bound">p</a><a id="6292" class="Symbol">)</a> <a id="6294" href="Code.html#6035" class="Generalizable">M</a> <a id="6296" href="Prec.html#11589" class="Datatype Operator">≤ᴹ</a> <a id="6299" href="Code.html#6047" class="Generalizable">M′</a> <a id="6302" href="Prec.html#11589" class="Datatype Operator">⦂</a> <a id="6304" href="Code.html#6137" class="Bound">q</a>
</pre></code>
            <img class="col-2" src="cast-left-plus-tex.svg" width="250" height="250"/>
          </div>
          <div class="container">
            <code class="col-1 tiny">
<pre class="Agda">  <a id="B.cast⁻≤"></a><a id="6385" href="Code.html#6385" class="Function">cast⁻≤</a> <a id="6392" class="Symbol">:</a> <a id="6394" class="Symbol">{</a><a id="6395" href="Code.html#6395" class="Bound">p</a> <a id="6397" class="Symbol">:</a> <a id="6399" href="Code.html#5963" class="Generalizable">Q</a> <a id="6401" href="Type.html#7693" class="Record Operator">≤ᶜ</a> <a id="6404" href="Code.html#5958" class="Generalizable">P</a><a id="6405" class="Symbol">}</a> <a id="6407" class="Symbol">{</a><a id="6408" href="Code.html#6408" class="Bound">q</a> <a id="6410" class="Symbol">:</a> <a id="6412" href="Code.html#5963" class="Generalizable">Q</a> <a id="6414" href="Type.html#7693" class="Record Operator">≤ᶜ</a> <a id="6417" href="Code.html#5965" class="Generalizable">R</a><a id="6418" class="Symbol">}</a> <a id="6420" class="Symbol">{</a><a id="6421" href="Code.html#6421" class="Bound">r</a> <a id="6423" class="Symbol">:</a> <a id="6425" href="Code.html#5958" class="Generalizable">P</a> <a id="6427" href="Type.html#7693" class="Record Operator">≤ᶜ</a> <a id="6430" href="Code.html#5965" class="Generalizable">R</a><a id="6431" class="Symbol">}</a>
    <a id="6437" class="Symbol">→</a>  <a id="6440" href="Code.html#6395" class="Bound">p</a> <a id="6442" href="Type.html#11340" class="Function Operator">⨟ᶜ</a> <a id="6445" href="Code.html#6421" class="Bound">r</a> <a id="6447" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6449" href="Code.html#6408" class="Bound">q</a>       <a id="6457" class="Comment">-- ← commutative triangle</a>
    <a id="6487" class="Symbol">→</a>  <a id="6490" href="Code.html#5994" class="Generalizable">Γ≤</a> <a id="6493" href="Prec.html#11589" class="Datatype Operator">⊢</a> <a id="6495" href="Code.html#6035" class="Generalizable">M</a> <a id="6497" href="Prec.html#11589" class="Datatype Operator">≤ᴹ</a> <a id="6500" href="Code.html#6047" class="Generalizable">M′</a> <a id="6503" href="Prec.html#11589" class="Datatype Operator">⦂</a> <a id="6505" href="Code.html#6421" class="Bound">r</a>
       <a id="6514" class="Comment">--------------------------</a>
    <a id="6545" class="Symbol">→</a>  <a id="6548" href="Code.html#5994" class="Generalizable">Γ≤</a> <a id="6551" href="Prec.html#11589" class="Datatype Operator">⊢</a> <a id="6553" href="Core.html#3688" class="InductiveConstructor">cast</a> <a id="6558" class="Symbol">(</a><a id="6559" href="Type.html#15391" class="InductiveConstructor Operator">-</a> <a id="6561" href="Code.html#6395" class="Bound">p</a><a id="6562" class="Symbol">)</a> <a id="6564" href="Code.html#6035" class="Generalizable">M</a> <a id="6566" href="Prec.html#11589" class="Datatype Operator">≤ᴹ</a> <a id="6569" href="Code.html#6047" class="Generalizable">M′</a> <a id="6572" href="Prec.html#11589" class="Datatype Operator">⦂</a> <a id="6574" href="Code.html#6408" class="Bound">q</a>
</pre></code>
            <img class="col-2" src="cast-left-minus-tex.svg" width="250" height="250"/>
          </div>
        </section>
        <section>
          <style>
            .container { display: flex; align-items: center; }
            .col-1 { flex: 2; } .col-2 { flex: 1; }
          </style>
          <div class="container">
            <code class="col-1 tiny">
<pre class="Agda">  <a id="A.cast⁺≤"></a><a id="6680" href="Code.html#6680" class="Function">cast⁺≤</a> <a id="6687" class="Symbol">:</a> <a id="6689" class="Symbol">{</a><a id="6690" href="Code.html#6690" class="Bound">P≤Q</a> <a id="6694" class="Symbol">:</a> <a id="6696" href="Code.html#5958" class="Generalizable">P</a> <a id="6698" href="Type.html#7693" class="Record Operator">≤ᶜ</a> <a id="6701" href="Code.html#5963" class="Generalizable">Q</a><a id="6702" class="Symbol">}</a> <a id="6704" class="Symbol">{</a><a id="6705" href="Code.html#6705" class="Bound">Q≤R</a> <a id="6709" class="Symbol">:</a> <a id="6711" href="Code.html#5963" class="Generalizable">Q</a> <a id="6713" href="Type.html#7693" class="Record Operator">≤ᶜ</a> <a id="6716" href="Code.html#5965" class="Generalizable">R</a><a id="6717" class="Symbol">}</a> <a id="6719" class="Symbol">{</a><a id="6720" href="Code.html#6720" class="Bound">P≤R</a> <a id="6724" class="Symbol">:</a> <a id="6726" href="Code.html#5958" class="Generalizable">P</a> <a id="6728" href="Type.html#7693" class="Record Operator">≤ᶜ</a> <a id="6731" href="Code.html#5965" class="Generalizable">R</a><a id="6732" class="Symbol">}</a>
    <a id="6738" class="Symbol">→</a>  <a id="6741" href="Code.html#6690" class="Bound">P≤Q</a> <a id="6745" href="Type.html#11340" class="Function Operator">⨟ᶜ</a> <a id="6748" href="Code.html#6705" class="Bound">Q≤R</a> <a id="6752" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6754" href="Code.html#6720" class="Bound">P≤R</a>       <a id="6764" class="Comment">-- ← commutative triangle</a>
    <a id="6794" class="Symbol">→</a>  <a id="6797" href="Code.html#5994" class="Generalizable">Γ≤</a> <a id="6800" href="Prec.html#11589" class="Datatype Operator">⊢</a> <a id="6802" href="Code.html#6035" class="Generalizable">M</a> <a id="6804" href="Prec.html#11589" class="Datatype Operator">≤ᴹ</a> <a id="6807" href="Code.html#6047" class="Generalizable">M′</a> <a id="6810" href="Prec.html#11589" class="Datatype Operator">⦂</a> <a id="6812" href="Code.html#6720" class="Bound">P≤R</a>
       <a id="6823" class="Comment">-------------------------------</a>
    <a id="6859" class="Symbol">→</a>  <a id="6862" href="Code.html#5994" class="Generalizable">Γ≤</a> <a id="6865" href="Prec.html#11589" class="Datatype Operator">⊢</a> <a id="6867" href="Core.html#3688" class="InductiveConstructor">cast</a> <a id="6872" class="Symbol">(</a><a id="6873" href="Type.html#15288" class="InductiveConstructor Operator">+</a> <a id="6875" href="Code.html#6690" class="Bound">P≤Q</a><a id="6878" class="Symbol">)</a> <a id="6880" href="Code.html#6035" class="Generalizable">M</a> <a id="6882" href="Prec.html#11589" class="Datatype Operator">≤ᴹ</a> <a id="6885" href="Code.html#6047" class="Generalizable">M′</a> <a id="6888" href="Prec.html#11589" class="Datatype Operator">⦂</a> <a id="6890" href="Code.html#6705" class="Bound">Q≤R</a>
</pre></code>
            <img class="col-2" src="cast-left-plus-tex.svg" width="250" height="250"/>
          </div>
          <div class="container">
            <code class="col-1 tiny">
<pre class="Agda">  <a id="A.cast⁻≤"></a><a id="6975" href="Code.html#6975" class="Function">cast⁻≤</a> <a id="6982" class="Symbol">:</a> <a id="6984" class="Symbol">{</a><a id="6985" href="Code.html#6985" class="Bound">Q≤P</a> <a id="6989" class="Symbol">:</a> <a id="6991" href="Code.html#5963" class="Generalizable">Q</a> <a id="6993" href="Type.html#7693" class="Record Operator">≤ᶜ</a> <a id="6996" href="Code.html#5958" class="Generalizable">P</a><a id="6997" class="Symbol">}</a> <a id="6999" class="Symbol">{</a><a id="7000" href="Code.html#7000" class="Bound">Q≤R</a> <a id="7004" class="Symbol">:</a> <a id="7006" href="Code.html#5963" class="Generalizable">Q</a> <a id="7008" href="Type.html#7693" class="Record Operator">≤ᶜ</a> <a id="7011" href="Code.html#5965" class="Generalizable">R</a><a id="7012" class="Symbol">}</a> <a id="7014" class="Symbol">{</a><a id="7015" href="Code.html#7015" class="Bound">P≤R</a> <a id="7019" class="Symbol">:</a> <a id="7021" href="Code.html#5958" class="Generalizable">P</a> <a id="7023" href="Type.html#7693" class="Record Operator">≤ᶜ</a> <a id="7026" href="Code.html#5965" class="Generalizable">R</a><a id="7027" class="Symbol">}</a>
    <a id="7033" class="Symbol">→</a>  <a id="7036" href="Code.html#6985" class="Bound">Q≤P</a> <a id="7040" href="Type.html#11340" class="Function Operator">⨟ᶜ</a> <a id="7043" href="Code.html#7015" class="Bound">P≤R</a> <a id="7047" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="7049" href="Code.html#7000" class="Bound">Q≤R</a>       <a id="7059" class="Comment">-- ← commutative triangle</a>
    <a id="7089" class="Symbol">→</a>  <a id="7092" href="Code.html#5994" class="Generalizable">Γ≤</a> <a id="7095" href="Prec.html#11589" class="Datatype Operator">⊢</a> <a id="7097" href="Code.html#6035" class="Generalizable">M</a> <a id="7099" href="Prec.html#11589" class="Datatype Operator">≤ᴹ</a> <a id="7102" href="Code.html#6047" class="Generalizable">M′</a> <a id="7105" href="Prec.html#11589" class="Datatype Operator">⦂</a> <a id="7107" href="Code.html#7015" class="Bound">P≤R</a>
       <a id="7118" class="Comment">-------------------------------</a>
    <a id="7154" class="Symbol">→</a>  <a id="7157" href="Code.html#5994" class="Generalizable">Γ≤</a> <a id="7160" href="Prec.html#11589" class="Datatype Operator">⊢</a> <a id="7162" href="Core.html#3688" class="InductiveConstructor">cast</a> <a id="7167" class="Symbol">(</a><a id="7168" href="Type.html#15391" class="InductiveConstructor Operator">-</a> <a id="7170" href="Code.html#6985" class="Bound">Q≤P</a><a id="7173" class="Symbol">)</a> <a id="7175" href="Code.html#6035" class="Generalizable">M</a> <a id="7177" href="Prec.html#11589" class="Datatype Operator">≤ᴹ</a> <a id="7180" href="Code.html#6047" class="Generalizable">M′</a> <a id="7183" href="Prec.html#11589" class="Datatype Operator">⦂</a> <a id="7185" href="Code.html#7000" class="Bound">Q≤R</a>
</pre></code>
            <img class="col-2" src="cast-left-minus-tex.svg" width="250" height="250"/>
          </div>
        </section>
			</div>
		</div>

		<script src="reveal.js/dist/reveal.js"></script>
		<script src="reveal.js/plugin/notes/notes.js"></script>
		<script src="reveal.js/plugin/markdown/markdown.js"></script>
		<script src="reveal.js/plugin/highlight/highlight.js"></script>
    <script src="reveal.js/plugin/math/math.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,
        slideNumber: 'c',
				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealMath.MathJax3 ],
        mathjax3: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js',
          tex: {
            inlineMath: [ [ '$', '$' ], [ '\\(', '\\)' ]  ]
          },
          options: {
            skipHtmlTags: [ 'script', 'noscript', 'style', 'textarea', 'pre' ]
          },
        }
			});
		</script>
	</body>
</html>